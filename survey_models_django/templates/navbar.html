{% load i18n %}
{% get_current_language as LANGUAGE_CODE %}

{% get_available_languages as LANGUAGES %}
{% get_language_info_list for LANGUAGES as languages %}
<header>
    <div class="d-flex flex-column flex-md-row justify-content-between p-3 px-md-4
        mb-3 bg-white border-bottom shadow-sm">
        <div style="display: flex; flex-direction: row;">
            <a href="{% url 'tests_list' %}" class="title__nav">
                <h1>{% translate "Tests" %}</h1>
            </a>
            <a  href="{% url 'myscores' %}" class="title__nav">
                <h2 class="create__nav">{% translate "My scores" %}</h2>
            </a>
            <a href="{% url 'report' %}" class="title__nav">
                <h2 class="create__nav">{% translate "Report" %}</h2>
            </a>
            {% if user.is_authenticated %}
            <div class="title__nav" style="margin-right: 14px;">
                <h2 class="user__nav">{{user.username}} |</h2>
            </div>
            <a href="{% url 'logout' %}" class="title__nav">
                <h2 class="create__nav">{% translate "Log out" %}</h2>
            </a>
            {% else %}
            <a  href="{% url 'register' %}" class="title__nav">
                <h2 class="create__nav">{% translate "Sign up" %}</h2>
            </a>
            <a href="{% url 'login' %}" class="title__nav">
                <h2 class="create__nav">{% translate "Sign in" %}</h2>
            </a>
            {% endif %}
            <div class="dropdown" >
                <button style="min-height: 50px; margin-right: 2vw;" class="btn btn-outline-dark dropdown-toggle" type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false">
                {{LANGUAGE_CODE}}
                </button>
                <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1">
                    {% for lang in languages %}
                        <li style="display: flex;flex-direction: row;">
                            <a class="date__title dropdown-item" href="/{{ lang.code }}">
                                {{ lang.name_local }}
                            </a>
                        </li>
                    {% endfor %}
                </ul>
            </div>
        </div>
        {% csrf_token %}
        <form method="GET" action="{% url 'tests_list' %}" class="form-inline my-2 my-lg-0 search__form" style="display: flex; flex-direction: row;">
            <input class="form-control mr-sm-2" type="search" placeholder="{% translate 'Search test...' %}" aria-label="Search" name="search">
            <div class="dropdown" >
                <button style="min-height: 50px; margin-left: 1vw;" class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false">
                    {% translate "Date ranges" %}
                </button>
                <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1">
                    <li style="display: flex;flex-direction: row;">
                        <div class="date__title">{% translate "From" %}</div>
                        {{ form.from_date }}
                    </li>
                    <li style="display: flex;flex-direction: row;">
                        <div class="date__title" style="margin-right: 2.6vh;">
                            {% translate "To" %}
                        </div>
                        {{ form.to_date }}
                    </li>
                </ul>
            </div>
            <div class="dropdown">
                <button style="min-height: 50px; margin-left: 1vw;" class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton1" data-bs-toggle="dropdown" aria-expanded="false">
                    {% translate "ORDER BY" %}
                </button>
                <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1">
                    <li style="display: flex;flex-direction: row;">
                        <input style="min-width:20px;" type="radio" name="order" id="option1" autocomplete="off" value="-" class="dropdown-item radio__sort">
                        <label for='option1' class="option__start" >{% translate "First new" %}</label>
                    </li>
                    <li style="display: flex;flex-direction: row;">
                        <input type="radio" name="order" id="option2" autocomplete="off" value="" class="dropdown-item radio__sort">
                        <label for='option2' class="option__start" >{% translate "First old" %}</label>
                    </li>
                </ul>
            </div>
            <button class="btn btn-outline-dark my-2 my-sm-0 search__btn" type="submit">{% translate "Search" %}</button>
        </form>
    </div>
</header>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js" integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0" crossorigin="anonymous"></script>